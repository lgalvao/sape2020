{"remainingRequest":"/Users/leonardo/sape2020/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/leonardo/sape2020/src/componentes/ZonaItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/leonardo/sape2020/src/componentes/ZonaItem.vue","mtime":1598581087863},{"path":"/Users/leonardo/sape2020/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leonardo/sape2020/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/leonardo/sape2020/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leonardo/sape2020/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge21hcEdldHRlcnMsIG1hcFN0YXRlfSBmcm9tICd2dWV4Jw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdab25hSXRlbScsDQogIHByb3BzOiBbJ3pvbmEnLCAnbGFyZ3VyYScsICdhbHR1cmEnXSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZXRhcGFSZWNlbUFsdGVyYWRhOiBmYWxzZSwNCiAgICAgIHJlY2VtSW5pY2lhZG86IGZhbHNlDQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZXRhcGFSZWNlbUFsdGVyYWRhID0gZmFsc2UNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLnJlY2VtSW5pY2lhZG8gPSB0cnVlDQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgYW5kYW1lbnRvKCkgew0KICAgICAgcmV0dXJuIHRoaXMuem9uYS5hbmRhbWVudG8NCiAgICB9LA0KICAgIGRlc2NBbmRhbWVudG8oKSB7DQogICAgICBpZiAodGhpcy5hbmRhbWVudG9zW3RoaXMuYW5kYW1lbnRvIC0gMV0pIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuYW5kYW1lbnRvc1t0aGlzLmFuZGFtZW50byAtIDFdLmRlc2NyaWNhbyB8fCAnJw0KICAgICAgfSBlbHNlIHJldHVybiAnJw0KICAgIH0sDQogICAgZXNtYWVjaW1lbnRvKCkgew0KICAgICAgcmV0dXJuIHRoaXMuaW5hdGl2YSA/ICcwLjUnIDogJzEuMCcNCiAgICB9LA0KICAgIHRlbVBlbmRlbmNpYXMoKSB7DQogICAgICByZXR1cm4gKHRoaXMuem9uYS5wZW5kZW5jaWFzICYmIHRoaXMuem9uYS5wZW5kZW5jaWFzLmxlbmd0aCA+IDApDQogICAgfSwNCiAgICBudW1QZW5kZW5jaWFzKCkgew0KICAgICAgaWYgKCF0aGlzLnpvbmEucGVuZGVuY2lhcykgcmV0dXJuIDA7DQogICAgICBlbHNlIHJldHVybiB0aGlzLnpvbmEucGVuZGVuY2lhcy5sZW5ndGgNCiAgICB9LA0KICAgIGNvclRleHRvKCkgew0KICAgICAgcmV0dXJuICh0aGlzLm5hb1ZlcmlmaWNhciB8fCB0aGlzLmluYXRpdmEpID8gJ2xpZ2h0Z3JheScgOiAnd2hpdGUnDQogICAgfSwNCiAgICBtb3N0cmFyQmFkZ2VQZW5kZW5jaWFzKCkgew0KICAgICAgcmV0dXJuIHRoaXMubW9zdHJhclpvbmEgJiYNCiAgICAgICAgICB0aGlzLnRlbVBlbmRlbmNpYXMgJiYNCiAgICAgICAgICB0aGlzLmRlc3RhY2FQZW5kZW5jaWFzICYmDQogICAgICAgICAgdGhpcy5hdGl2YQ0KICAgIH0sDQogICAgZGVzdGFjYVBlbmRlbmNpYXMoKSB7DQogICAgICBpZiAodGhpcy5hbmRhbWVudG9zW3RoaXMuYW5kYW1lbnRvIC0gMV0pIHsNCiAgICAgICAgcmV0dXJuICh0aGlzLmFuZGFtZW50b3NbdGhpcy5hbmRhbWVudG8gLSAxXS5kZXN0YWNhUGVuZGVuY2lhcykNCiAgICAgIH0gZWxzZSByZXR1cm4gZmFsc2UNCiAgICB9LA0KICAgIGF0aXZhKCkgew0KICAgICAgcmV0dXJuICh0aGlzLnpvbmEuc2l0dWFjYW9WZXJpZmljYWNhbyA9PT0gJ0FUSVZBJykNCiAgICB9LA0KICAgIGluYXRpdmEoKSB7DQogICAgICByZXR1cm4gKHRoaXMuem9uYS5zaXR1YWNhb1ZlcmlmaWNhY2FvID09PSAnSU5BVElWQScpDQogICAgfSwNCiAgICBuYW9WZXJpZmljYXIoKSB7DQogICAgICByZXR1cm4gKHRoaXMuem9uYS5zaXR1YWNhb1ZlcmlmaWNhY2FvID09PSAnTlYnKQ0KICAgIH0sDQogICAgbW9zdHJhclpvbmEoKSB7DQogICAgICByZXR1cm4gKHRoaXMucG9sb1NlbGVjaW9uYWRvID09PSB0aGlzLnpvbmEubnVtUG9sbyB8fCB0aGlzLnBvbG9TZWxlY2lvbmFkbyA9PT0gMCkNCiAgICB9LA0KICAgIC4uLm1hcFN0YXRlKHsNCiAgICAgIGV0YXBhOiBzdGF0ZSA9PiBzdGF0ZS5ldGFwYSwNCiAgICAgIHBvbG9TZWxlY2lvbmFkbzogc3RhdGUgPT4gc3RhdGUucG9sb1NlbGVjaW9uYWRvLA0KICAgICAgYXRpdmFyTm90aWZpY2Fjb2VzOiBzdGF0ZSA9PiBzdGF0ZS5hdGl2YXJOb3RpZmljYWNvZXMNCiAgICB9KSwNCiAgICAuLi5tYXBHZXR0ZXJzKHsNCiAgICAgIGFuZGFtZW50b3M6ICdnZXRBbmRhbWVudG9zJywNCiAgICAgIGNvcjogJ2dldENvclpvbmEnDQogICAgfSkNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBldGFwYSgpIHsNCiAgICAgIHRoaXMuZXRhcGFSZWNlbUFsdGVyYWRhID0gdHJ1ZQ0KICAgIH0sDQogICAgYW5kYW1lbnRvKCkgew0KICAgICAgaWYgKHRoaXMuYXRpdmFyTm90aWZpY2Fjb2VzICYmICF0aGlzLmV0YXBhUmVjZW1BbHRlcmFkYSAmJiAhdGhpcy5yZWNlbUluaWNpYWRvKSB7DQogICAgICAgIGxldCBjb25mZXJlbnRlOw0KICAgICAgICBpZiAodGhpcy5kZXNjQW5kYW1lbnRvID09PSAnQ29uZmVyw6puY2lhIGVtIGFuZGFtZW50bycpIHsNCiAgICAgICAgICBjb25mZXJlbnRlID0gdGhpcy56b25hLmNvbmZlcmVudGUNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmV0YXBhUmVjZW1BbHRlcmFkYSA9IGZhbHNlDQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["ZonaItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ZonaItem.vue","sourceRoot":"src/componentes","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"badge-pendencias\" v-show=\"mostrarBadgePendencias\">\r\n      {{ numPendencias }}\r\n    </div>\r\n\r\n    <b-btn v-b-modal.sapemodal :id=\"'zona' + zona.numero\" v-show=\"mostrarZona\" class=\"botao-zona\"\r\n           :class=\"{shadow: ativa}\" :style=\"{'background-color': cor(zona.numero),\r\n                    opacity: esmaecimento,\r\n                    color: corTexto,\r\n                    width: largura,\r\n                    height: altura}\"\r\n           :disabled=\"naoVerificar\" @click=\"$emit('zona-clicada', zona.numero)\">\r\n\r\n      {{ zona.numero }}\r\n\r\n      <b-progress class=\"barra-progresso\" v-if=\"destacaPendencias && ativa\">\r\n        <b-progress-bar :value=\"zona.percRealizado\" class=\"barra-progress-detalhe\"/>\r\n      </b-progress>\r\n    </b-btn>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters, mapState} from 'vuex'\r\n\r\nexport default {\r\n  name: 'ZonaItem',\r\n  props: ['zona', 'largura', 'altura'],\r\n  data() {\r\n    return {\r\n      etapaRecemAlterada: false,\r\n      recemIniciado: false\r\n    }\r\n  },\r\n  created() {\r\n    this.etapaRecemAlterada = false\r\n  },\r\n  mounted() {\r\n    this.recemIniciado = true\r\n  },\r\n  computed: {\r\n    andamento() {\r\n      return this.zona.andamento\r\n    },\r\n    descAndamento() {\r\n      if (this.andamentos[this.andamento - 1]) {\r\n        return this.andamentos[this.andamento - 1].descricao || ''\r\n      } else return ''\r\n    },\r\n    esmaecimento() {\r\n      return this.inativa ? '0.5' : '1.0'\r\n    },\r\n    temPendencias() {\r\n      return (this.zona.pendencias && this.zona.pendencias.length > 0)\r\n    },\r\n    numPendencias() {\r\n      if (!this.zona.pendencias) return 0;\r\n      else return this.zona.pendencias.length\r\n    },\r\n    corTexto() {\r\n      return (this.naoVerificar || this.inativa) ? 'lightgray' : 'white'\r\n    },\r\n    mostrarBadgePendencias() {\r\n      return this.mostrarZona &&\r\n          this.temPendencias &&\r\n          this.destacaPendencias &&\r\n          this.ativa\r\n    },\r\n    destacaPendencias() {\r\n      if (this.andamentos[this.andamento - 1]) {\r\n        return (this.andamentos[this.andamento - 1].destacaPendencias)\r\n      } else return false\r\n    },\r\n    ativa() {\r\n      return (this.zona.situacaoVerificacao === 'ATIVA')\r\n    },\r\n    inativa() {\r\n      return (this.zona.situacaoVerificacao === 'INATIVA')\r\n    },\r\n    naoVerificar() {\r\n      return (this.zona.situacaoVerificacao === 'NV')\r\n    },\r\n    mostrarZona() {\r\n      return (this.poloSelecionado === this.zona.numPolo || this.poloSelecionado === 0)\r\n    },\r\n    ...mapState({\r\n      etapa: state => state.etapa,\r\n      poloSelecionado: state => state.poloSelecionado,\r\n      ativarNotificacoes: state => state.ativarNotificacoes\r\n    }),\r\n    ...mapGetters({\r\n      andamentos: 'getAndamentos',\r\n      cor: 'getCorZona'\r\n    })\r\n  },\r\n  watch: {\r\n    etapa() {\r\n      this.etapaRecemAlterada = true\r\n    },\r\n    andamento() {\r\n      if (this.ativarNotificacoes && !this.etapaRecemAlterada && !this.recemIniciado) {\r\n        let conferente;\r\n        if (this.descAndamento === 'ConferÃªncia em andamento') {\r\n          conferente = this.zona.conferente\r\n        }\r\n        this.etapaRecemAlterada = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n$fundo-pendencia: #DE3F00;\r\n$texto-pendencia: white;\r\n$fundo-progresso: darkgray;\r\n\r\n.botao-zona {\r\n  font-family: \"Roboto Condensed\", sans-serif;\r\n  border-radius: 5px;\r\n  border-width: 0;\r\n  margin-bottom: calc(2px + 0.7vmin);\r\n  margin-right: calc(2px + 0.7vmin);\r\n  height: 7.2vmin;\r\n  width: 6.40vmax;\r\n  min-width: 60px;\r\n  min-height: 40px;\r\n  font-size: calc(8px + 2.5vmin);\r\n  z-index: 1\r\n}\r\n\r\n.botao-zona:hover {\r\n  filter: brightness(1.3);\r\n}\r\n\r\n.barra-progresso {\r\n  height: 4px;\r\n  background-color: $fundo-progresso;\r\n  border-radius: 3px;\r\n}\r\n\r\n.barra-progress-detalhe {\r\n  background-color: white;\r\n  z-index: 1;\r\n}\r\n\r\n.badge-pendencias {\r\n  font-family: \"Roboto Condensed\", sans-serif;\r\n  font-size: calc(5px + 1.5vmin);\r\n  background-color: $fundo-pendencia;\r\n  color: $texto-pendencia;\r\n  float: right;\r\n  position: relative;\r\n  margin-right: calc(5px + 0.7vmax);\r\n  margin-left: calc(2px - 5vmax);\r\n  width: calc(5px + 1vmax);\r\n  text-align: center;\r\n  border-bottom-left-radius: 7px;\r\n  border-bottom-right-radius: 7px;\r\n  z-index: 2;\r\n}\r\n</style>\r\n"]}]}