{"remainingRequest":"/Users/leonardo/sape2020/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/leonardo/sape2020/src/componentes/Navegacao.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/leonardo/sape2020/src/componentes/Navegacao.vue","mtime":1598581087942},{"path":"/Users/leonardo/sape2020/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/leonardo/sape2020/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leonardo/sape2020/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge21hcEFjdGlvbnMsIG1hcEdldHRlcnMsIG1hcFN0YXRlfSBmcm9tICd2dWV4Jw0KDQpjb25zdCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTsNCm1vbWVudC5sb2NhbGUoJ3B0LUJSJyk7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ05hdmVnYWNhbycsDQogIHByb3BzOiB7DQogICAgdGl0dWxvR2VyYWw6IFN0cmluZywNCiAgICBtb3N0cmFyRXRhcGE6IEJvb2xlYW4NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4ge3RlbXBvOiAnJ30NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBfY2ljbG9zKCkgew0KICAgICAgaWYgKHRoaXMuX2NpY2xvcyA+IDEpIHsNCiAgICAgICAgLyogQ3JpYXIgZnVuw6fDo28gcGFyYSBpc3NvICovDQogICAgICAgIHRoaXMudGVtcG8gPSAnaMOhICcgKyB0aGlzLl9jaWNsb3MgKiB0aGlzLl90ZW1wb0NpY2xvIC8gMTAwMCArICcgc2VndW5kb3MnDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gJ2jDoSBwb3Vjb3Mgc2VndW5kb3MnDQogICAgICB9DQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcFN0YXRlKHsNCiAgICAgIF9ldGFwYTogc3RhdGUgPT4gc3RhdGUuZXRhcGEsDQogICAgICBfbm9tZUVsZWljYW86IHN0YXRlID0+IHN0YXRlLm5vbWVFbGVpY2FvLA0KICAgICAgX25vbWVFdGFwYTogc3RhdGUgPT4gc3RhdGUubm9tZUV0YXBhLA0KICAgICAgX2RhdGFVbHRpbWFBdHVhbGl6YWNhbzogc3RhdGUgPT4gc3RhdGUuZGF0YVVsdGltYUF0dWFsaXphY2FvLA0KICAgICAgX2NpY2xvczogc3RhdGUgPT4gc3RhdGUuY2ljbG9zLA0KICAgICAgX3RlbXBvQ2ljbG86IHN0YXRlID0+IHN0YXRlLnRlbXBvQXR1YWxpemFjYW8NCiAgICB9KSwNCiAgICAuLi5tYXBHZXR0ZXJzKHsNCiAgICAgIHVsdGltYUF0dWFsaXphY2FvOiAnZ2V0VWx0aW1hQXR1YWxpemFjYW8nDQogICAgfSksDQogICAgdGl0dWxvKCkgew0KICAgICAgcmV0dXJuIHRoaXMudGl0dWxvR2VyYWwgfHwgdGhpcy5fbm9tZUVsZWljYW8NCiAgICB9LA0KICAgIG5vbWVFdGFwYSgpIHsNCiAgICAgIGlmICh0aGlzLm1vc3RyYXJFdGFwYSB8fCAhdGhpcy50aXR1bG9HZXJhbCkgcmV0dXJuIHRoaXMuX25vbWVFdGFwYTsgZWxzZSByZXR1cm4gJycNCiAgICB9LA0KICAgIGRhdGFVbHRpbWFBdHVhbGl6YWNhbygpIHsNCiAgICAgIGlmICghdGhpcy50aXR1bG9HZXJhbCkgcmV0dXJuIHRoaXMuX2RhdGFVbHRpbWFBdHVhbGl6YWNhbzsgZWxzZSByZXR1cm4gJycNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBBY3Rpb25zKHsNCiAgICAgIGF0dWFsaXphclBvbGxpbmc6ICdhdHVhbGl6YXJQb2xsaW5nJywNCiAgICAgIGF0dWFsaXphckV0YXBhOiAnYXR1YWxpemFyRXRhcGFSZXN0Jw0KICAgIH0pLA0KICAgIHRlbXBvVWx0aW1hQXR1YWxpemFjYW8oKSB7DQogICAgICBjb25zdCBhZ29yYSA9IG1vbWVudCgpOw0KICAgICAgY29uc3QgdWx0aW1hID0gbW9tZW50KHRoaXMuZGF0YVVsdGltYUF0dWFsaXphY2FvKCksICdERC9NTS9ZWVlZIEhIOm1tOnNzJyk7DQogICAgICByZXR1cm4gbW9tZW50LmR1cmF0aW9uKGFnb3JhLmRpZmYodWx0aW1hKSkubWlsbGlzZWNvbmRzKCkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Navegacao.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Navegacao.vue","sourceRoot":"src/componentes","sourcesContent":["<template>\r\n  <div style=\"width:100%\">\r\n    <b-navbar toggleable=\"md\" type=\"dark\" variant=\"dark\" class=\"barra\">\r\n      <b-navbar-toggle target=\"nav_collapse\"/>\r\n      <b-navbar-brand class=\"barra brand\">SAPE</b-navbar-brand>\r\n\r\n      <b-collapse id=\"nav_collapse\" is-nav>\r\n        <b-nav-text id=\"titulo\" class=\"barra\">\r\n          {{ titulo }}<span class=\"nome-etapa\">{{ nomeEtapa }}</span>\r\n          <span id=\"data\">\r\n            <span v-if=\"dataUltimaAtualizacao\" class=\"data-atualizacao\">\r\n              <b-icon icon=\"clock\" scale=\"1.3\" class=\"icone-relogio\"/>\r\n              {{ dataUltimaAtualizacao }}&nbsp;\r\n            </span>\r\n            <span v-if=\"tempoUltimaAtualizacao\" class=\"tempo-ult-atualizacao\">\r\n            {{ tempo }}\r\n            </span>\r\n          </span>\r\n        </b-nav-text>\r\n\r\n        <b-navbar-nav class=\"ml-auto barra-menus\">\r\n          <b-nav-item-dropdown text=\"Etapa\" class=\"menu\" right>\r\n            <b-dropdown-item :active=\"this._etapa === 1\" @click=\"atualizarEtapa(1)\">Geração\r\n            </b-dropdown-item>\r\n            <b-dropdown-item :active=\"this._etapa === 2\" @click=\"atualizarEtapa(2)\">Preparação\r\n            </b-dropdown-item>\r\n            <b-dropdown-item :active=\"this._etapa === 3\" @click=\"atualizarEtapa(3)\">Vistoria\r\n            </b-dropdown-item>\r\n            <b-dropdown-item :active=\"this._etapa === 4\" @click=\"atualizarEtapa(4)\">Votação\r\n            </b-dropdown-item>\r\n            <b-dropdown-item :active=\"this._etapa === 6\" @click=\"atualizarEtapa(6)\">Totalização\r\n            </b-dropdown-item>\r\n          </b-nav-item-dropdown>\r\n\r\n          <b-nav-item-dropdown text=\"Visão\" class=\"menu\" right>\r\n            <b-dropdown-header class=\"menu-subdivisao\">Acompanhamento</b-dropdown-header>\r\n            <b-dropdown-item to=\"/zonas\">Zonas</b-dropdown-item>\r\n            <b-dropdown-item to=\"/polos\">Polos</b-dropdown-item>\r\n            <b-dropdown-item to=\"/municipios\">Municípios</b-dropdown-item>\r\n            <b-dropdown-item to=\"zonaspolo\">Zonas por polo</b-dropdown-item>\r\n            <b-dropdown-divider></b-dropdown-divider>\r\n            <b-dropdown-header class=\"menu-subdivisao\">Conferência</b-dropdown-header>\r\n            <b-dropdown-item to=\"/zonasfila\">Zonas por andamento</b-dropdown-item>\r\n            <b-dropdown-item to=\"/conferencia\">Zonas conferência</b-dropdown-item>\r\n            <b-dropdown-divider></b-dropdown-divider>\r\n            <b-dropdown-item to=\"/configuracao\">Configurações</b-dropdown-item>\r\n          </b-nav-item-dropdown>\r\n        </b-navbar-nav>\r\n\r\n        <img class=\"logotipo\" src=\"../assets/img/logotre.png\" alt=\"logotipo\">\r\n      </b-collapse>\r\n    </b-navbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions, mapGetters, mapState} from 'vuex'\r\n\r\nconst moment = require('moment');\r\nmoment.locale('pt-BR');\r\n\r\nexport default {\r\n  name: 'Navegacao',\r\n  props: {\r\n    tituloGeral: String,\r\n    mostrarEtapa: Boolean\r\n  },\r\n  data() {\r\n    return {tempo: ''}\r\n  },\r\n  watch: {\r\n    _ciclos() {\r\n      if (this._ciclos > 1) {\r\n        /* Criar função para isso */\r\n        this.tempo = 'há ' + this._ciclos * this._tempoCiclo / 1000 + ' segundos'\r\n      } else {\r\n        return 'há poucos segundos'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      _etapa: state => state.etapa,\r\n      _nomeEleicao: state => state.nomeEleicao,\r\n      _nomeEtapa: state => state.nomeEtapa,\r\n      _dataUltimaAtualizacao: state => state.dataUltimaAtualizacao,\r\n      _ciclos: state => state.ciclos,\r\n      _tempoCiclo: state => state.tempoAtualizacao\r\n    }),\r\n    ...mapGetters({\r\n      ultimaAtualizacao: 'getUltimaAtualizacao'\r\n    }),\r\n    titulo() {\r\n      return this.tituloGeral || this._nomeEleicao\r\n    },\r\n    nomeEtapa() {\r\n      if (this.mostrarEtapa || !this.tituloGeral) return this._nomeEtapa; else return ''\r\n    },\r\n    dataUltimaAtualizacao() {\r\n      if (!this.tituloGeral) return this._dataUltimaAtualizacao; else return ''\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      atualizarPolling: 'atualizarPolling',\r\n      atualizarEtapa: 'atualizarEtapaRest'\r\n    }),\r\n    tempoUltimaAtualizacao() {\r\n      const agora = moment();\r\n      const ultima = moment(this.dataUltimaAtualizacao(), 'DD/MM/YYYY HH:mm:ss');\r\n      return moment.duration(agora.diff(ultima)).milliseconds()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@media only screen and (max-width: 800px) {\r\n  #titulo {\r\n    display: none;\r\n  }\r\n}\r\n\r\n@media only screen and (max-width: 1200px) {\r\n  #data {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.barra {\r\n  font-family: \"Roboto Condensed\", sans-serif;\r\n  font-size: calc(10px + 0.7vw + 0.7vmin);\r\n  padding-left: calc(0.9 * (1vw + 1vh - 1vmin));\r\n  padding-top: 1.7vmin;\r\n  padding-bottom: 0.3vmin;\r\n  height: 90px;\r\n  z-index: 3;\r\n}\r\n\r\n.barra-menus {\r\n  font-size: 80%;\r\n  z-index: 100\r\n}\r\n\r\n.logotipo {\r\n  width: 4.5vmin;\r\n  margin-left: calc(1 * (1vw + 1vh - 1vmin));\r\n  margin-right: calc(0.7 * (1vw + 1vh - 1vmin))\r\n}\r\n\r\n.brand {\r\n  font-family: 'Roboto Condensed Bold', sans-serif;\r\n  font-weight: bold;\r\n  z-index: 3\r\n}\r\n\r\n.nome-etapa {\r\n  font-family: \"Roboto Condensed Bold\", sans-serif;\r\n  font-weight: bold;\r\n  padding-left: calc(1.5 * (1vw + 1vh - 1vmin));\r\n  color: white;\r\n  opacity: 0.8;\r\n}\r\n\r\n.icone-relogio {\r\n  margin-right: 7px;\r\n  margin-bottom: 2px\r\n}\r\n\r\n.menu {\r\n  background-color: #343a40;\r\n  z-index: 3\r\n}\r\n\r\n.menu-subdivisao {\r\n  font-size: 75%\r\n}\r\n\r\n.tempo-ult-atualizacao {\r\n  font-size: 20px;\r\n}\r\n\r\n.data-atualizacao {\r\n  font-family: \"Roboto Condensed\", sans-serif;\r\n  padding-left: calc(1.5 * (1vw + 1vh - 1vmin));\r\n  color: white;\r\n  opacity: 0.8;\r\n  font-size: 80%;\r\n}\r\n</style>\r\n"]}]}