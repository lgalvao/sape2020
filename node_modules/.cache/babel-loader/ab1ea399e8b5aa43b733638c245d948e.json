{"remainingRequest":"/Users/leonardo/sape2020/node_modules/babel-loader/lib/index.js!/Users/leonardo/sape2020/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/leonardo/sape2020/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/leonardo/sape2020/src/componentes/ModalZonas.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/leonardo/sape2020/src/componentes/ModalZonas.vue","mtime":1598581088234},{"path":"/Users/leonardo/sape2020/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leonardo/sape2020/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/leonardo/sape2020/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leonardo/sape2020/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2xlb25hcmRvL3NhcGUyMDIwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEl0ZW1JbmZvTW9kYWwgZnJvbSAnLi9JdGVtSW5mb01vZGFsJzsKaW1wb3J0ICogYXMgdGlwb3MgZnJvbSAnLi4vc3RvcmUvbXV0YXRpb250eXBlcyc7CmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcE11dGF0aW9ucywgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKCnZhciBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTsKCm1vbWVudC5sb2NhbGUoJ3B0LUJSJyk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTW9kYWxab25hcycsCiAgY29tcG9uZW50czogewogICAgSXRlbUluZm9Nb2RhbDogSXRlbUluZm9Nb2RhbAogIH0sCiAgcHJvcHM6IHsKICAgIHpvbmE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbnVtZXJvOiAxLAogICAgICAgICAgYW5kYW1lbnRvOiAxLAogICAgICAgICAgbXVuaWNpcGlvU2VkZTogJ1JFQ0lGRScsCiAgICAgICAgICBudW1Qb2xvOiAnTnVtYmVyJywKICAgICAgICAgIHNpdHVhY2FvVmVyaWZpY2FjYW86ICcnLAogICAgICAgICAgcGVuZGVuY2lhczogW10sCiAgICAgICAgICBkYXRhVWx0aW1hQXR1YWxpemFjYW86ICcnLAogICAgICAgICAgcGVyY1JlYWxpemFkbzogMCwKICAgICAgICAgIGl0ZW5zUmVzdGFudGVzOiAwLAogICAgICAgICAgaXRlbnNUb3RhaXM6IDAsCiAgICAgICAgICBzaXR1YWNhb0F0YTogJycsCiAgICAgICAgICBkYXRhR2VyYWNhb0F0YTogJycsCiAgICAgICAgICBzaXR1YWNhb0NvbmZlcmVuY2lhOiAnJywKICAgICAgICAgIGRhdGFDb25mZXJlbmNpYTogJycsCiAgICAgICAgICBjb25mZXJlbnRlOiAnJywKICAgICAgICAgIHNpdHVhY2FvUmVsYXRvcmlvczogJycsCiAgICAgICAgICBkZXRSZWxhdG9yaW9zOiBbXSwKICAgICAgICAgIHN0czogW10sCiAgICAgICAgICBwZXJpb2RvRXRhcGE6ICcnLAogICAgICAgICAgaGlzdENvbmZlcmVuY2lhczogW10KICAgICAgICB9OwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW9zdHJhbmRvSGlzdG9yaWNvOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgX21vc3RyYXJNb2RhbDogZnVuY3Rpb24gX21vc3RyYXJNb2RhbChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubW9zdHJhck1vZGFsWm9uYTsKICAgIH0sCiAgICBfY29udGF0b3M6IGZ1bmN0aW9uIF9jb250YXRvcyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuY29udGF0b3M7CiAgICB9CiAgfSkpLCBtYXBHZXR0ZXJzKHsKICAgIGFuZGFtZW50b3M6ICdnZXRBbmRhbWVudG9zJywKICAgIGRlc2NBbmRhbWVudG86ICdnZXREZXNjQW5kYW1lbnRvJwogIH0pKSwge30sIHsKICAgIGNhbXBvczogZnVuY3Rpb24gY2FtcG9zKCkgewogICAgICByZXR1cm4gewogICAgICAgIHR1cm5vOiB7CiAgICAgICAgICBsYWJlbDogJ1R1cm5vJwogICAgICAgIH0sCiAgICAgICAgZXRhcGE6IHsKICAgICAgICAgIGxhYmVsOiAnRXRhcGEnCiAgICAgICAgfSwKICAgICAgICBjb25mZXJlbnRlOiB7CiAgICAgICAgICBsYWJlbDogJ0NvbmZlcmVudGUnCiAgICAgICAgfSwKICAgICAgICBvYnNlcnZhY2FvOiB7CiAgICAgICAgICBsYWJlbDogJ09ic2VydmHDp8O1ZXMnCiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgIGNhbXBvc1JlbGF0b3Jpb3M6IGZ1bmN0aW9uIGNhbXBvc1JlbGF0b3Jpb3MoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbm9tZTogewogICAgICAgICAgbGFiZWw6ICdSZWxhdMOzcmlvJwogICAgICAgIH0sCiAgICAgICAgbXVuaWNpcGlvOiB7CiAgICAgICAgICBsYWJlbDogJ011bmljw61waW8nCiAgICAgICAgfSwKICAgICAgICBlbGVpY2FvOiB7CiAgICAgICAgICBsYWJlbDogJ0VsZWnDp8OjbycKICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgY2FtcG9zQXRhOiBmdW5jdGlvbiBjYW1wb3NBdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZXRhcGE6IHt9LAogICAgICAgIHNpdHVhY2FvOiB7CiAgICAgICAgICBsYWJlbDogJ1NpdHVhw6fDo28nCiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgIG1vc3RyYXJNb2RhbDogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5fbW9zdHJhck1vZGFsOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWxvcikgewogICAgICAgIHRoaXMuYXR1YWxpemFyTW9zdHJhck1vZGFsKHZhbG9yKTsKICAgICAgfQogICAgfSwKICAgIHRpdHVsbzogZnVuY3Rpb24gdGl0dWxvKCkgewogICAgICByZXR1cm4gJ1pvbmEgJyArIHRoaXMubnVtWm9uYUZvcm1hdGFkbyArICcgLSAnICsgdGhpcy56b25hLm11bmljaXBpb1NlZGUgKyAnIChQb2xvICcgKyB0aGlzLnpvbmEubnVtUG9sbyArICcpJzsKICAgIH0sCiAgICBzdHM6IGZ1bmN0aW9uIHN0cygpIHsKICAgICAgcmV0dXJuIHRoaXMuem9uYS5zdHM7CiAgICB9LAogICAgaGlzdG9yaWNvQ29uZmVyZW5jaWFzOiBmdW5jdGlvbiBoaXN0b3JpY29Db25mZXJlbmNpYXMoKSB7CiAgICAgIHJldHVybiB0aGlzLnpvbmEuaGlzdENvbmZlcmVuY2lhczsKICAgIH0sCiAgICBudW1ab25hRm9ybWF0YWRvOiBmdW5jdGlvbiBudW1ab25hRm9ybWF0YWRvKCkgewogICAgICB2YXIgcyA9ICcwMDAnICsgdGhpcy56b25hLm51bWVybzsKICAgICAgcmV0dXJuIHMuc3Vic3RyKHMubGVuZ3RoIC0gMyk7CiAgICB9LAogICAgaXRlbnNSZWFsaXphZG9zOiBmdW5jdGlvbiBpdGVuc1JlYWxpemFkb3MoKSB7CiAgICAgIHJldHVybiB0aGlzLnpvbmEuaXRlbnNUb3RhaXMgLSB0aGlzLnpvbmEuaXRlbnNSZXN0YW50ZXM7CiAgICB9LAogICAgY2FtcG9zVGFiZWxhUGVuZGVuY2lhczogZnVuY3Rpb24gY2FtcG9zVGFiZWxhUGVuZGVuY2lhcygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBmaWVsZHM6IFt7CiAgICAgICAgICBrZXk6ICdjb2RpZ28nLAogICAgICAgICAgbGFiZWw6ICdDw7NkaWdvJwogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogJ2Rlc2NyaWNhbycsCiAgICAgICAgICBsYWJlbDogJ0Rlc2NyacOnw6NvJwogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogJ2RldGFsaGFtZW50bycsCiAgICAgICAgICBsYWJlbDogJ0RldGFsaGFtZW50bycKICAgICAgICB9XQogICAgICB9OwogICAgfSwKICAgIHRlbXBvR2VyYWNhb0F0YTogZnVuY3Rpb24gdGVtcG9HZXJhY2FvQXRhKCkgewogICAgICByZXR1cm4gbW9tZW50KHRoaXMuem9uYS5kYXRhR2VyYWNhb0F0YSwgJ0REL01NL1lZWVkgSEg6bW06c3MnKS5mcm9tTm93KCk7CiAgICB9CiAgfSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBNdXRhdGlvbnMoewogICAgYXR1YWxpemFyTW9zdHJhck1vZGFsOiB0aXBvcy5NT1NUUkFSX01PREFMX1pPTkEKICB9KSksIHt9LCB7CiAgICBlc2NvbmRlckhpc3RvcmljbzogZnVuY3Rpb24gZXNjb25kZXJIaXN0b3JpY28oKSB7CiAgICAgIHRoaXMubW9zdHJhbmRvSGlzdG9yaWNvID0gZmFsc2U7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["ModalZonas.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <b-modal v-model=\"mostrarModal\" id=\"sapemodal\" class=\"modal-zonas\" :title=\"titulo\"\r\n           hide-footer header-bg-variant=\"dark\" header-text-variant=\"light\" size=\"lg\"\r\n           @hidden=\"esconderHistorico\">\r\n    <div class=\"secao\">Situação</div>\r\n\r\n    <item-info-modal>\r\n      Progresso: {{ zona.percRealizado }}% ({{ itensRealizados }} de {{ zona.itensTotais }})\r\n      <b-progress class=\"barra-progresso-modal\" :max=zona.itensTotais>\r\n        <b-progress-bar :value=\"itensRealizados\" variant=\"success\" animated/>\r\n      </b-progress>\r\n    </item-info-modal>\r\n\r\n    <item-info-modal>\r\n      Andamento {{ zona.andamento }} - {{ descAndamento(zona.andamento) }}\r\n    </item-info-modal>\r\n\r\n    <item-info-modal>\r\n      Período de realização: {{ zona.periodoEtapa }}\r\n    </item-info-modal>\r\n\r\n    <div class=\"secao\" style=\"margin-bottom: 8px\">Suporte Tecnológico</div>\r\n    <b-table :items=\"sts\" small thead-class=\"sem-cabecalho\"/>\r\n    <b-list-group-item style=\"margin-top:-15px\">\r\n      Ramal do polo: {{ _contatos[zona.numPolo].ramal }}\r\n    </b-list-group-item>\r\n\r\n    <div class=\"secao\">Pendências</div>\r\n    <div v-if=\"zona.pendencias.length === 0\">\r\n      <item-info-modal>Sem pendências</item-info-modal>\r\n    </div>\r\n\r\n    <div v-show=\"zona.pendencias.length !== 0\">\r\n      <b-list-group>\r\n        <b-list-group-item v-for=\"pendencia in zona.pendencias\" :key=\"pendencia.codigo\">\r\n          <strong>{{ pendencia.descricao }}</strong> (cód. {{ pendencia.codigo }}) <br/>\r\n          <ul>\r\n            <li v-for=\"item in pendencia.detalhamento.split('|')\" :key=\"item\">\r\n              {{ item.replace(/i¿½i¿½/, \"çã\") }}\r\n            </li>\r\n          </ul>\r\n        </b-list-group-item>\r\n      </b-list-group>\r\n    </div>\r\n\r\n    <!-- TODO usar constantes para textos fixos -->\r\n    <div class=\"secao\">Conferência</div>\r\n    <b-list-group v-if=\"zona.situacaoConferencia !== 'Não conferida'\">\r\n      <b-list-group-item>{{ zona.conferente }}</b-list-group-item>\r\n      <b-list-group-item>{{ zona.dataConferencia }}</b-list-group-item>\r\n      <b-list-group-item>{{ zona.situacaoConferencia }}</b-list-group-item>\r\n      <b-list-group-item v-if=\"zona.obsConferencia\">Obs.: {{ zona.obsConferencia }}</b-list-group-item>\r\n    </b-list-group>\r\n\r\n    <item-info-modal v-if=\"zona.situacaoConferencia === 'Não conferida'\">\r\n      {{ zona.dataConferencia === '' ? zona.situacaoConferencia : '' }}\r\n    </item-info-modal>\r\n\r\n    <item-info-modal v-if=\"historicoConferencias.length\">\r\n      <b-btn v-b-toggle.historico size=\"sm\" @click=\"mostrandoHistorico = !mostrandoHistorico\">\r\n        Histórico\r\n        <b-icon v-if=\"!mostrandoHistorico\" name=\"chevron-down\" scale=\"0.7\"/>\r\n        <b-icon v-if=\"mostrandoHistorico\" name=\"chevron-up\" scale=\"0.7\"/>\r\n      </b-btn>\r\n\r\n      <b-collapse id=\"historico\" v-show=\"mostrandoHistorico\">\r\n        <div class=\"secao\" style=\"margin-top:8px\">Histórico de conferências</div>\r\n        <b-table :items=\"historicoConferencias\" small thead-class=\"sem-cabecalho\" :fields=\"campos\"\r\n                 style=\"margin-bottom:-20px;font-size:15px\"></b-table>\r\n      </b-collapse>\r\n    </item-info-modal>\r\n\r\n    <div v-if=\"!(zona.situacaoRelatorios === 'NA')\">\r\n      <div class=\"secao\">Relatórios</div>\r\n      <b-list-group>\r\n        <b-list-group-item>\r\n          {{ zona.situacaoRelatorios }}\r\n        </b-list-group-item>\r\n        <b-list-group-item v-if=\"zona.detRelatorios.length > 0\">\r\n          <b-table :items=\"zona.detRelatorios\" :fields=\"camposRelatorios\" small style=\"margin-bottom: -5px\"></b-table>\r\n        </b-list-group-item>\r\n      </b-list-group>\r\n    </div>\r\n\r\n    <div v-if=\"!(zona.situacaoAta === 'NA')\">\r\n      <div class=\"secao\">Ata</div>\r\n      <b-list-group>\r\n        <b-list-group-item>\r\n          {{ zona.situacaoAta }}\r\n        </b-list-group-item>\r\n\r\n        <b-list-group-item v-if=\"zona.dataGeracaoAta\">\r\n          Últ. geração: {{ zona.dataGeracaoAta }} ({{ tempoGeracaoAta }})\r\n        </b-list-group-item>\r\n\r\n        <b-list-group-item v-if=\"zona.detAta.length > 0\">\r\n          <b-table :fields=\"camposAta\" :items=\"zona.detAta\" small style=\"margin-bottom: -10px\"></b-table>\r\n        </b-list-group-item>\r\n      </b-list-group>\r\n    </div>\r\n  </b-modal>\r\n</template>\r\n\r\n<script>\r\nimport ItemInfoModal from './ItemInfoModal'\r\nimport * as tipos from '../store/mutationtypes'\r\nimport {mapGetters, mapMutations, mapState} from 'vuex'\r\n\r\nconst moment = require('moment');\r\nmoment.locale('pt-BR');\r\n\r\nexport default {\r\n  name: 'ModalZonas',\r\n  components: {ItemInfoModal},\r\n  props: {\r\n    zona: {\r\n      type: Object,\r\n      default: function () {\r\n        return {\r\n          numero: 1,\r\n          andamento: 1,\r\n          municipioSede: 'RECIFE',\r\n          numPolo: 'Number',\r\n          situacaoVerificacao: '',\r\n          pendencias: [],\r\n          dataUltimaAtualizacao: '',\r\n          percRealizado: 0,\r\n          itensRestantes: 0,\r\n          itensTotais: 0,\r\n          situacaoAta: '',\r\n          dataGeracaoAta: '',\r\n          situacaoConferencia: '',\r\n          dataConferencia: '',\r\n          conferente: '',\r\n          situacaoRelatorios: '',\r\n          detRelatorios: [],\r\n          sts: [],\r\n          periodoEtapa: '',\r\n          histConferencias: []\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {mostrandoHistorico: false}\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      _mostrarModal: state => state.mostrarModalZona,\r\n      _contatos: state => state.contatos\r\n    }),\r\n    ...mapGetters({\r\n      andamentos: 'getAndamentos',\r\n      descAndamento: 'getDescAndamento'\r\n    }),\r\n    campos() {\r\n      return {\r\n        turno: {label: 'Turno'},\r\n        etapa: {label: 'Etapa'},\r\n        conferente: {label: 'Conferente'},\r\n        observacao: {label: 'Observações'}\r\n      }\r\n    },\r\n    camposRelatorios() {\r\n      return {\r\n        nome: {label: 'Relatório'},\r\n        municipio: {label: 'Município'},\r\n        eleicao: {label: 'Eleição'}\r\n      }\r\n    },\r\n    camposAta() {\r\n      return {\r\n        etapa: {},\r\n        situacao: {label: 'Situação'}\r\n      }\r\n    },\r\n    mostrarModal: {\r\n      get() {\r\n        return this._mostrarModal\r\n      },\r\n      set(valor) {\r\n        this.atualizarMostrarModal(valor)\r\n      }\r\n    },\r\n    titulo() {\r\n      return 'Zona ' +\r\n          this.numZonaFormatado +\r\n          ' - ' +\r\n          this.zona.municipioSede +\r\n          ' (Polo ' +\r\n          this.zona.numPolo +\r\n          ')'\r\n    },\r\n    sts() {\r\n      return this.zona.sts\r\n    },\r\n    historicoConferencias() {\r\n      return this.zona.histConferencias\r\n    },\r\n    numZonaFormatado() {\r\n      const s = '000' + this.zona.numero;\r\n      return s.substr(s.length - 3)\r\n    },\r\n    itensRealizados() {\r\n      return this.zona.itensTotais - this.zona.itensRestantes\r\n    },\r\n    camposTabelaPendencias() {\r\n      return {\r\n        fields: [\r\n          {\r\n            key: 'codigo',\r\n            label: 'Código'\r\n          },\r\n          {\r\n            key: 'descricao',\r\n            label: 'Descrição'\r\n          },\r\n          {\r\n            key: 'detalhamento',\r\n            label: 'Detalhamento'\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    tempoGeracaoAta() {\r\n      return moment(this.zona.dataGeracaoAta, 'DD/MM/YYYY HH:mm:ss').fromNow()\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      atualizarMostrarModal: tipos.MOSTRAR_MODAL_ZONA\r\n    }),\r\n    esconderHistorico() {\r\n      this.mostrandoHistorico = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.modal-zonas {\r\n  font-family: \"Roboto Condensed\", sans-serif;\r\n  border: 0;\r\n}\r\n\r\n.secao {\r\n  font-weight: bold;\r\n  margin-top: 7px;\r\n}\r\n\r\n.barra-progresso-modal {\r\n  margin-top: 5px;\r\n  height: 10px;\r\n}\r\n</style>"],"sourceRoot":"src/componentes"}]}